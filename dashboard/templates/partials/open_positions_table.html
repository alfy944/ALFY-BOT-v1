{% if positions %}
<table>
    <thead>
        <tr>
            <th>Asset</th>
            <th>Side</th>
            <th>Size</th>
            <th>Entry</th>
            <th>Mark</th>
            <th>PnL ($)</th>
            <th>Lev</th>
        </tr>
    </thead>
    <tbody>
        {% for p in positions %}
        <tr>
            <td style="font-weight: bold;">{{ p.symbol }}</td>
            <td style="color: {% if p.side == 'Buy' %}var(--green){% else %}var(--red){% endif %};">{{ p.side }}</td>
            <td>{{ p.size }}</td>
            <td>{{ p.entry_price }}</td>
            <td>{{ p.mark_price }}</td>
            <td class="{% if p.pnl >= 0 %}pnl-pos{% else %}pnl-neg{% endif %}">
                {{ "%.2f"|format(p.pnl) }}
            </td>
            <td>{{ p.leverage }}x</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div style="padding: 20px; text-align: center; color: #8b949e;">
    Nessuna posizione aperta al momento.
</div>
{% endif %}
